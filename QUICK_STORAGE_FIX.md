# ğŸš€ å¿«é€Ÿè§£å†³ Storage é—®é¢˜

## æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆ

å¦‚æœä½ é‡åˆ° "Bucket not found" é”™è¯¯ï¼Œåªéœ€è¦ä»¥ä¸‹å‡ æ­¥ï¼š

### æ­¥éª¤ 1: åˆ›å»º Public Bucketï¼ˆæœ€é‡è¦ï¼ï¼‰

1. **ç™»å½• Supabase Dashboard**
2. **ç‚¹å‡»å·¦ä¾§ Storage**
3. **ç‚¹å‡» "New bucket" æŒ‰é’®**
4. **å¡«å†™ä¿¡æ¯**ï¼š
   - Bucket name: `avatars`
   - **Public bucket: âœ… å¿…é¡»å‹¾é€‰ï¼**
5. **ç‚¹å‡» Save**

### æ­¥éª¤ 2: æµ‹è¯•ï¼ˆæ— éœ€é¢å¤– SQLï¼‰

ç”±äº bucket è®¾ç½®ä¸º Publicï¼Œåº”è¯¥å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼š

1. é‡å¯åº”ç”¨ï¼š`npm run dev`
2. è®¿é—®è§’è‰²åˆ›å»ºé¡µé¢
3. ç‚¹å‡» banner ä¸­çš„å¤´åƒä¸Šä¼ 

## âŒ å¦‚æœä»ç„¶æœ‰é—®é¢˜

### é€‰é¡¹ A: æ£€æŸ¥ bucket è®¾ç½®

- ç¡®ä¿ bucket åç§°ç¡®å®æ˜¯ `avatars`
- ç¡®ä¿ "Public bucket" å·²å‹¾é€‰

### é€‰é¡¹ B: æ‰‹åŠ¨æ·»åŠ ç­–ç•¥ï¼ˆå¦‚æœéœ€è¦ï¼‰

åœ¨ SQL Editor ä¸­æ‰§è¡Œï¼ˆå¿½ç•¥ "already exists" é”™è¯¯ï¼‰ï¼š

```sql
-- åªæ‰§è¡Œè¿™ä¸€ä¸ªæœ€é‡è¦çš„ç­–ç•¥
CREATE POLICY "Users can upload avatar images" ON storage.objects
FOR INSERT WITH CHECK (
  bucket_id = 'avatars'
  AND auth.role() = 'authenticated'
);
```

### é€‰é¡¹ C: é‡æ–°åˆ›å»º bucket

å¦‚æœä¸Šè¿°éƒ½ä¸è¡Œï¼š

1. åˆ é™¤ç°æœ‰çš„ `avatars` bucket
2. é‡æ–°åˆ›å»ºï¼Œç¡®ä¿å‹¾é€‰ "Public bucket"

## ğŸ¯ é¢„æœŸç»“æœ

é…ç½®æ­£ç¡®åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- âœ… ç‚¹å‡» banner ä¸­çš„å¤´åƒ
- âœ… é€‰æ‹©å›¾ç‰‡æ–‡ä»¶
- âœ… çœ‹åˆ°å¤´åƒç«‹å³æ›´æ–°
- âœ… æ²¡æœ‰æ§åˆ¶å°é”™è¯¯

## ğŸ“ è¿˜æ˜¯ä¸è¡Œï¼Ÿ

å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œå¯èƒ½çš„åŸå› ï¼š

1. **ç½‘ç»œé—®é¢˜**: æ£€æŸ¥ç½‘ç»œè¿æ¥
2. **è®¤è¯é—®é¢˜**: ç¡®ä¿ç”¨æˆ·å·²ç™»å½•
3. **ç¯å¢ƒå˜é‡**: æ£€æŸ¥ `.env.local` ä¸­çš„ Supabase é…ç½®æ˜¯å¦æ­£ç¡®

å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€è¦æ­£ç¡®åˆ›å»º Public bucket å°±èƒ½è§£å†³é—®é¢˜ï¼
